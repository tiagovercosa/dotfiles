#!/usr/bin/env bash

# <span lang='&#xf240;' foreground='#ef97d0' face='Font Awesome'>&#xf240;</span>
percentage=$(cat /sys/class/power_supply/BAT?/capacity)
Status=$(cat /sys/class/power_supply/BAT?/status)

if [[ $Status = "Discharging" ]]; then
  if [[ $percentage -ge 85 ]]; then
    echo "  ${percentage}%"
  elif [[ $percentage -ge 70 ]]; then
    echo "  ${percentage}%"
  elif [[ $percentage -ge 40 ]]; then
    echo "  ${percentage}%"
  elif [[ $percentage -ge 20 ]]; then
    echo "  ${percentage}%"
  elif [[ $percentage -ge 10 ]]; then
    echo "<span color='#ccb00d'>   ${percentage}%</span>"
  elif [[ $percentage -ge 0 ]]; then
    echo "  ${percentage}%"
    exit 33;
  fi
elif [[ $Status = "Charging" ]]; then
  if [[ $percentage -ge 80 ]]; then
    echo "<span color='#ffdd11'></span>   ${percentage}%"
  elif [[ $percentage -ge 65 ]]; then
    echo "<span color='#ffdd11'></span>   ${percentage}%"
  elif [[ $percentage -ge 45 ]]; then
    echo "<span color='#ffdd11'></span>   ${percentage}%"
  elif [[ $percentage -ge 20 ]]; then
    echo "<span color='#ffdd11'></span>   ${percentage}%"
  elif [[ $percentage -ge 0 ]]; then
    echo "<span color='#ffdd11'></span>   ${percentage}%"
  fi
elif [[ $Status = 'Full' ]]; then
  echo "   ${percentage}%"
fi
 
if [[ $Status = "Not charging" ]]; then
  echo "<span color='#ff1133'> ${percentage}%</span>"
fi

